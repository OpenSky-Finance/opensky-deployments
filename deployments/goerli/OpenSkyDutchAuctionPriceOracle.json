{
  "address": "0xc140Bda23F73322CDF2370fa7E95799ACaB70353",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "startPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "endPrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "endTime",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "priceTime",
          "type": "uint256"
        }
      ],
      "name": "calculatePrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "reservePrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startTime",
          "type": "uint256"
        }
      ],
      "name": "getPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x9efb73770b4085289aac910646e95ed41a3a263f6239183444968262d4e2a75b",
  "receipt": {
    "to": null,
    "from": "0x218513C58A4781a5B88De6230caA29aBCe2Ccd75",
    "contractAddress": "0xc140Bda23F73322CDF2370fa7E95799ACaB70353",
    "transactionIndex": 27,
    "gasUsed": "203587",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xa0c3743a5397f1cdbdbe96865e57405d91cbc186110926fc6d21863e46ebd3e4",
    "transactionHash": "0x9efb73770b4085289aac910646e95ed41a3a263f6239183444968262d4e2a75b",
    "logs": [],
    "blockNumber": 7921112,
    "cumulativeGasUsed": "4231470",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "solcInputHash": "d76bc1a1ead61a45a226476d3c0069f0",
  "metadata": "{\"compiler\":{\"version\":\"0.8.10+commit.fc410830\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"startPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"endPrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"endTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"priceTime\",\"type\":\"uint256\"}],\"name\":\"calculatePrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"reservePrice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"startTime\",\"type\":\"uint256\"}],\"name\":\"getPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/liquidation/OpenSkyDutchAuctionPriceOracle.sol\":\"OpenSkyDutchAuctionPriceOracle\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/interfaces/IOpenSkyDutchAuctionPriceOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\ninterface IOpenSkyDutchAuctionPriceOracle {\\n    function getPrice(uint256 loanAmount, uint256 startTime) external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xe5a879b51065978413c4a37969fd04c890db5af071dae577737659416088a178\",\"license\":\"MIT\"},\"contracts/liquidation/OpenSkyDutchAuctionPriceOracle.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.10;\\n\\nimport \\\"../interfaces/IOpenSkyDutchAuctionPriceOracle.sol\\\";\\n\\ncontract OpenSkyDutchAuctionPriceOracle is IOpenSkyDutchAuctionPriceOracle {\\n    uint256 constant DURATION_ONE = 1 days;\\n    uint256 constant DURATION_TWO = 0.5 days;\\n    uint256 constant SPACING = 5 minutes; // price descend every 5 minutes\\n\\n    function calculatePrice(\\n        uint256 startPrice,\\n        uint256 endPrice,\\n        uint256 startTime,\\n        uint256 endTime,\\n        uint256 priceTime\\n    ) public pure returns (uint256) {\\n        uint256 spacingAmount = (endTime - startTime) / SPACING;\\n        uint256 priceUint = (startPrice - endPrice) / spacingAmount;\\n        uint256 currentIndex = (priceTime - startTime) / SPACING;\\n        uint256 price = startPrice - currentIndex * priceUint;\\n        return price;\\n    }\\n\\n    function getPrice(uint256 reservePrice, uint256 startTime) external view override returns (uint256) {\\n        // 10*loan => 3*loan=> 1.2*loan\\n        uint256 startPrice = reservePrice * 2;\\n        uint256 turningPrice = (reservePrice * 12000) / 10000;\\n        uint256 endPrice = (reservePrice * 10010) / 10000;\\n        uint256 turnTime = startTime + DURATION_ONE;\\n        uint256 endTime = turnTime + DURATION_TWO;\\n\\n        uint256 price = endPrice;\\n\\n        if (block.timestamp <= startTime) {\\n            price = startPrice;\\n        } else if (block.timestamp <= turnTime) {\\n            // price = startPrice - ((block.timestamp - startTime) * (startPrice - turningPrice)) / DURATION_ONE;\\n            price = calculatePrice(startPrice, turningPrice, startTime, turnTime, block.timestamp);\\n        } else if (block.timestamp < endTime) {\\n            // price = turningPrice - ((block.timestamp - turnTime) * (turningPrice - endPrice)) / DURATION_TWO;\\n            price = calculatePrice(turningPrice, endPrice, turnTime, endTime, block.timestamp);\\n        } else {\\n            price = endPrice;\\n        }\\n        return price;\\n    }\\n}\\n\",\"keccak256\":\"0x53db4ccd63fcf20239184f581eff81128fb028d90b340bd42e1c3af952204d1f\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506102b9806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063207ad9ce1461003b5780635cf4ee9114610060575b600080fd5b61004e6100493660046101a0565b610073565b60405190815260200160405180910390f35b61004e61006e3660046101db565b6100e7565b60008061012c6100838686610213565b61008d919061022a565b905060008161009c888a610213565b6100a6919061022a565b9050600061012c6100b78887610213565b6100c1919061022a565b905060006100cf838361024c565b6100d9908b610213565b9a9950505050505050505050565b6000806100f584600261024c565b9050600061271061010886612ee061024c565b610112919061022a565b905060006127106101258761271a61024c565b61012f919061022a565b90506000610140620151808761026b565b9050600061015061a8c08361026b565b905082428810610161575084610194565b82421161017c5761017586868a8642610073565b9050610194565b81421015610191576101758585858542610073565b50825b98975050505050505050565b600080600080600060a086880312156101b857600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b600080604083850312156101ee57600080fd5b50508035926020909101359150565b634e487b7160e01b600052601160045260246000fd5b600082821015610225576102256101fd565b500390565b60008261024757634e487b7160e01b600052601260045260246000fd5b500490565b6000816000190483118215151615610266576102666101fd565b500290565b6000821982111561027e5761027e6101fd565b50019056fea2646970667358221220d25ed2a96939bac0a0d3c00659e3966e5bea0a5b78484b7928b524ad13ce67c364736f6c634300080a0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100365760003560e01c8063207ad9ce1461003b5780635cf4ee9114610060575b600080fd5b61004e6100493660046101a0565b610073565b60405190815260200160405180910390f35b61004e61006e3660046101db565b6100e7565b60008061012c6100838686610213565b61008d919061022a565b905060008161009c888a610213565b6100a6919061022a565b9050600061012c6100b78887610213565b6100c1919061022a565b905060006100cf838361024c565b6100d9908b610213565b9a9950505050505050505050565b6000806100f584600261024c565b9050600061271061010886612ee061024c565b610112919061022a565b905060006127106101258761271a61024c565b61012f919061022a565b90506000610140620151808761026b565b9050600061015061a8c08361026b565b905082428810610161575084610194565b82421161017c5761017586868a8642610073565b9050610194565b81421015610191576101758585858542610073565b50825b98975050505050505050565b600080600080600060a086880312156101b857600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b600080604083850312156101ee57600080fd5b50508035926020909101359150565b634e487b7160e01b600052601160045260246000fd5b600082821015610225576102256101fd565b500390565b60008261024757634e487b7160e01b600052601260045260246000fd5b500490565b6000816000190483118215151615610266576102666101fd565b500290565b6000821982111561027e5761027e6101fd565b50019056fea2646970667358221220d25ed2a96939bac0a0d3c00659e3966e5bea0a5b78484b7928b524ad13ce67c364736f6c634300080a0033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [],
    "types": null
  }
}